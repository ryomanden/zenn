---
title: "Volumioã‚’AirPlay2ã«å¯¾å¿œã•ã›ã‚‹"
emoji: "ğŸ”ˆ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["RaspberryPi", "Linux", "Audio"]
published: false
---
Volumioã¨ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œã‚‹ãŸã‚ã®OSã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§AirPlayã«å¯¾å¿œã—ã¦ã„ã¾ã™ãŒã€æ®‹å¿µãªãŒã‚‰æœªã AirPlay2ã«ã¯å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚
ãã“ã§ã€æœ¬è¨˜äº‹ã§ã¯ç„¡ç†ã‚„ã‚ŠAirPlay2ã«å¯¾å¿œã•ã›ã¦ã‚„ã‚ã†ã¨æ€ã„ã¾ã™ã€‚

# Volumioã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
å‰²æ„›ã—ã¾ã™

# memo

## enable ssh
http://volumio.local/dev sshæœ‰åŠ¹åŒ–
ssh ID&PASS : volumio

## å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
``` bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y binutils make libasound2-dev g++
sudo apt install --no-install-recommends -y git xxd xmltoman autoconf automake libtool libpopt-dev libconfig-dev avahi-daemon libavahi-client-dev libssl-dev libsoxr-dev libplist-dev libsodium-dev libavutil-dev libavcodec-dev libavformat-dev uuid-dev libgcrypt-dev
```

## å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤
``` bash
mv /tmp/shairport-sync.conf /tmp/shairport-sync.conf.old
sudo mv /usr/bin/shairport-sync /usr/bin/shairport-sync.old
sudo rm /lib/systemd/system/shairport-sync.service
```

## install NQPTP
``` bash
mkdir temp
cd temp

git clone https://github.com/mikebrady/nqptp.git
cd nqptp

autoreconf -fi
./configure --with-systemd-startup
make && sudo make install

sudo systemctl enable nqptp
sudo systemctl start nqptp 
cd ..
```

``` bash
ã“ã“ã«å‡ºåŠ›ã‚’è²¼ã‚‹
```

## install shairport-sync
```bash
git clone https://github.com/mikebrady/shairport-sync.git
cd shairport-sync
git checkout tags/4.3.4

autoreconf -fi

./configure --sysconfdir=/etc --with-alsa --with-soxr --with-avahi --with-ssl=openssl --with-metadata  --with-systemd --with-airplay-2

make -j && sudo make install
sudo systemctl enable  shairport-sync
sudo systemctl start shairport-sync
```